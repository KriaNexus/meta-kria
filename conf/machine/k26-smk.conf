#@TYPE: Machine
#@NAME: Generic Kria Starter Kit
#@DESCRIPTION: Kria K26 SOM + Starter kit

require include/k26-smk.inc

# NOTE: For K26 starterkit QEMU to boot it needs to have a carrier card configured. The default
# card is set to KV260, but this can be changed by commenting out the lines below and uncomminting
# the KR260 settings.

# K26 + KV260
QB_OPT_APPEND += " -blockdev filename=${DEPLOY_DIR_IMAGE}/kv-eeprom.bin,node-name=i2c1.eeprom-51,driver=file"
QB_ROOTFS_OPT = "-drive file=@ROOTFS@,if=sd,format=raw,index=1"

# K26 + KR260
#QB_OPT_APPEND += "\
#    -device usb-hub,bus=usb3@0xFE200000.0,port=1,id=usb-hub \
#    -device usb-storage,bus=usb3@0xFE200000.0,port=1.1,id=usbstick,drive=stick \
#    -blockdev filename=${DEPLOY_DIR_IMAGE}/kr-eeprom.bin,node-name=i2c1.eeprom-51,driver=file \
#"
#QB_ROOTFS_OPT = "-drive file=@ROOTFS@,if=none,format=raw,id=stick"
